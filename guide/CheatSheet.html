<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <!--
      The CheatSheet parameters will be replaced with the
      document title extracted from the <h1> element or
      file name, if there is no <h1> heading
    -->
    <title>CheatSheet</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://code.jquery.com/jquery-2.2.4.min.js"></script>
    <script src="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/js/bootstrap.min.js"></script>
    <link href="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/css/bootstrap-combined.min.css" rel="stylesheet">
    <link type="text/css" rel="stylesheet" href="styles/style.css" />
    <script src="styles/tips.js" type="text/javascript"></script>
    
    <script language="javascript" type="text/javascript">
      function init()
      {
        try {
          websocket = new WebSocket("ws://" + window.location.hostname + ":" + window.location.port + "/websocket");
          websocket.onmessage = function(evt) { location.reload(); };
        } catch (e) { /* silently ignore lack of websockets */ }
      }
      window.addEventListener("load", init, false);
    </script>
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="container">
      <div class="masthead">
        <ul class="nav nav-pills pull-right">
          <li><a href="index.html">Index</a></li>
          <!--<li><a href="http://fsharp.github.io/FSharp.Data/">FSharp.Data</a></li>
          <li><a href="http://fslab.org/Deedle">Deedle</a></li>
          <li><a href="http://fslab.org/RProvider">R Provider</a></li>
          <li><a href="https://fslab.org/XPlot/">XPlot</a></li>
          <li><a href="https://fslab.org/XPlot/">FSharp.Charting</a></li>
          <li><a href="https://numerics.mathdotnet.com/">Math.NET Numerics</a></li>-->
        </ul>
        <h3 class="muted">Practical Guide to Commodity Strategist</h3>
      </div>
      <hr />
      <div class="row" style="margin-top:30px">
        <div class="span1"></div>
        <div class="span10" id="main">
          <h1>CheatSheet</h1>
<p>Some references for tools</p>
<h2>SSH</h2>
<ul>
<li>
<p>To use ssh on 443 port, you can add the following in ~/.ssh/config</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
</pre></td>
<td class="snippet"><pre class="fssnip"><code lang="sshconfig">Host github.com
  HostName ssh.github.com
  Port 443
  User git
  PreferredAuthentications publickey
Host gitlab.com
  Hostname altssh.gitlab.com
  User git
  Port 443
  PreferredAuthentications publickey
</code></pre></td></tr></table>
</li>
<li>
<p><a href="https://www.ssh.com/ssh/copy-id">Copy ssh id</a></p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip"><code lang="bash">ssh -i ~/.ssh/mykey user@host
</code></pre></td></tr></table>
</li>
</ul>
<h2>Git</h2>
<ul>
<li><a href="https://about.gitlab.com/images/press/git-cheat-sheet.pdf">Gitlab git cheat sheet</a></li>
<li>
Use submoduels to have nested git repositories. <a href="https://www.vogella.com/tutorials/GitSubmodules/article.html">ref</a>

```bash
</li>
</ul>
<p>git clone --recursive [URL to Git repo]
git submodule update --init</p>
<h1>if there are nested submodules:</h1>
<p>git submodule update --init --recursive</p>
<h1>pull all changes in the repo including changes in the submodules</h1>
<p>git pull --recurse-submodules</p>
<h1>pull all changes for the submodules</h1>
<p>git submodule update --remote</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
<span class="l">8: </span>
<span class="l">9: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="o">-</span> <span class="i">Create</span> <span class="i">a</span> <span class="i">clean</span> <span class="i">git</span> <span class="i">history</span> [<span onmouseout="hideTip(event, 'fs1', 1)" onmouseover="showTip(event, 'fs1', 1)" class="i">ref</span>](<span class="i">https</span><span class="o">:</span><span class="c">//tecadmin.net/delete-commit-history-in-github/)</span>

<span class="k">`</span><span class="k">`</span><span class="k">`</span><span class="i">console</span>
<span class="i">git</span> <span class="i">checkout</span> <span class="o">--</span><span class="i">orphan</span> <span class="i">temp_branch</span>
<span class="i">git</span> <span class="i">add</span> <span class="o">-</span><span class="i">A</span>
<span class="i">git</span> <span class="i">commit</span> <span class="o">-</span><span class="i">am</span> <span class="s">&quot;the first commit&quot;</span>
<span class="i">git</span> <span class="i">branch</span> <span class="o">-</span><span class="i">D</span> <span class="i">master</span>
<span class="i">git</span> <span class="i">branch</span> <span class="o">-</span><span class="i">m</span> <span class="i">master</span>
<span class="i">git</span> <span class="i">push</span> <span class="o">-</span><span class="i">f</span> <span class="i">origin</span> <span class="i">master</span>
</code></pre></td>
</tr>
</table>
<ul>
<li>Or Simply rebase the whole thing</li>
</ul>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
</pre></td>
<td class="snippet"><pre class="fssnip"><code lang="console">git rebase -i --root
git push --force
</code></pre></td></tr></table>
<ul>
<li>diff local master with remote</li>
</ul>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip"><code lang="console">git diff master origin/master
</code></pre></td></tr></table>
<h2><a href="https://fsprojects.github.io/Paket/">Paket</a></h2>
<ul>
<li><p>Use paket to isntall/restore/update packages. <a href="https://fsprojects.github.io/Paket/getting-started.html">Get started</a>.</p></li>
<li><p>to start from scratch if packages cannot be downloaded or installed properly, you can <a href="https://fsprojects.github.io/Paket/paket-clear-cache.html">clear cache</a></p></li>
</ul>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip"><code lang="console">.paket\paket.exe clear-cache
</code></pre></td></tr></table>
<h2><a href="https://docs.microsoft.com/en-us/dotnet/core/tools/?tabs=netcore2x">Dotnet CLI</a></h2>
<ul>
<li>sometime vs run into build issues, and the cli provides a more consistent experience. To restore, build, test, publish etc. Paket is integrated smoothly, but you might need to run paket install before building the 1st time.</li>
</ul>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
</pre></td>
<td class="snippet"><pre class="fssnip"><code lang="console">dotnet restore
dotnet build -c Release
dotnet vstest Test.dll #run test on a prebuilt test dll
dotnet test --filter DisplayName~getPrice #run XunitTest with a filter
dotnet publish
</code></pre></td></tr></table>
<ul>
<li>for a even more controlled build process, use <a href="https://fake.build/">Fake</a></li>
</ul>
<h2>PowerShell</h2>
<ul>
<li>
add user path entry and remove duplicates
adapted from <a href="https://itluke.online/2018/07/16/how-to-remove-duplicates-from-your-path-environment-variable-with-powershell/">this post</a>.
</li>
</ul>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
</pre></td>
<td class="snippet"><pre class="fssnip"><code lang="console">$CurrentPath = [Environment]::GetEnvironmentVariable('Path','User')
$TargetPath = $CurrentPath+";path1"
$SplittedPath = $TargetPath -split ';'
$CleanedPath = $SplittedPath | Sort-Object -Unique
$NewPath = $CleanedPath -join ';'
[Environment]::SetEnvironmentVariable('Path', $NewPath,'User')
</code></pre></td></tr></table>
<h2>xcopy</h2>
<p>A useful windows cmd to copy folder</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip"><code lang="console">xcopy /S src des

</code></pre></td></tr></table>
<h2>WSL</h2>
<ul>
<li>add ca cert from windows to wsl's mono</li>
</ul>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
</pre></td>
<td class="snippet"><pre class="fssnip"><code lang="bash">certmgr -ssl https://nuget.org
certmgr -ssl https://github.com
</code></pre></td></tr></table>
<h2>Unix commands</h2>
<ul>
<li><a href="http://man7.org/linux/man-pages/man1/find.1.html">find</a> files with certain pattern and run cmd on them, e.g. change dos to unix txt format for all .sh .vim and .py files.</li>
</ul>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip"><code lang="bash">find -iregex '.*\.\(sh\|vim\|py\)$' -exec dos2unix {} \;
</code></pre></td></tr></table>
<ul>
<li><a href="https://www.gnu.org/software/grep/manual/grep.html">grep</a> filename with contents in current directory and run some cmds on them via <a href="http://man7.org/linux/man-pages/man1/xargs.1.html">xargs</a>.</li>
</ul>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip"><code lang="bash">grep -rl PATTERN  . | xargs ls -l
</code></pre></td></tr></table>
<h2><a href="https://www.gnupg.org/">GPG</a></h2>
<p><a href="https://guides.library.illinois.edu/data_encryption/gpgcheatsheet">A useful cheat sheet</a></p>
<p>Selected common comands:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
</pre></td>
<td class="snippet"><pre class="fssnip"><code lang="console">gpg --list-secret-keys 
#export private and public key
gpg --export-secret-keys -a $ID &gt; my-private-key.asc
gpg --armor --output public-key.gpg --export user@example.com
gpg --import private_or_pub_key.asc
gpg --delete-key 
gpg --delete-secret-key
#extend expiry requires secret key
gpg --edit-key $id
gpg&gt; expire
gpg&gt; save
#trust imported secret key
gpg&gt; trust 
#encrypt file
gpg -ers $id file
</code></pre></td></tr></table>
<h2><a href="https://www.passwordstore.org/">Pass</a></h2>
<ul>
<li>copy pass to clipboard under wsl using clip.exe</li>
</ul>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip"><code lang="console">pass some_entry | clip.exe
</code></pre></td></tr></table>
<h2><a href="https://www.gnu.org/software/wget/manual/wget.html">wget</a></h2>
<ul>
<li>download all jpg files from a reference page</li>
</ul>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip"><code lang="console">wget -r -A .jpy url
</code></pre></td></tr></table>
<div class="tip" id="fs1">Multiple items<br />val ref : value:&#39;T -&gt; &#39;T ref<br /><br />Full name: Microsoft.FSharp.Core.Operators.ref<br /><br />--------------------<br />type &#39;T ref = Ref&lt;&#39;T&gt;<br /><br />Full name: Microsoft.FSharp.Core.ref&lt;_&gt;</div>


          
        </div>
        <div class="span1"></div>
      </div>
      <hr style="margin-top:50px;"/>
      <footer class="footer" style="text-align:center">
        Submit feedback or issues on <a href="https://github.com/xqguo/xqguo.github.io">github</a>.
      </footer>
    </div>
  </body>
</html>
